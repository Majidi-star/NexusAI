<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./src/output.css" rel="stylesheet">
    <title>ูุบุฒ ุณุงุฒูุงู</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; connect-src 'self' http://127.0.0.1:8000;">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; connect-src 'self' http://127.0.0.1:8000; style-src 'self' 'unsafe-inline';">
</head>
<body class="bg-main-bg text-main-text overflow-hidden h-screen w-screen flex flex-col">

    <div id="title-bar" class="h-10 bg-sidebar-bg border-b border-border-color flex items-center justify-between px-4 drag select-none shrink-0">
        <div class="flex items-center gap-2">
            <span class="text-base">๐ง</span>
            <span class="text-[11px] font-bold text-zinc-500 tracking-widest uppercase">Organizational Brain</span>
        </div>
        <div class="flex h-full items-center no-drag">
            <button id="min-btn" class="w-10 h-10 flex items-center justify-center hover:bg-zinc-200 transition-colors">
                <svg width="12" height="12" viewBox="0 0 12 12"><rect fill="currentColor" width="10" height="1" x="1" y="6"/></svg>
            </button>
            <button id="max-btn" class="w-10 h-10 flex items-center justify-center hover:bg-zinc-200 transition-colors">
                <svg width="12" height="12" viewBox="0 0 12 12"><path fill="none" stroke="currentColor" stroke-width="1" d="M3.5,3.5 h5 v5 h-5 z"/></svg>
            </button>
            <button id="close-btn" class="w-10 h-10 flex items-center justify-center hover:bg-red-500 hover:text-white transition-colors">
                <svg width="12" height="12" viewBox="0 0 12 12"><path fill="none" stroke="currentColor" stroke-width="1" d="M3,3 l6,6 M9,3 l-6,6"/></svg>
            </button>
        </div>
    </div>

    <div class="flex flex-1 w-full overflow-hidden items-stretch" style="height: calc(100vh - 40px);">
        
        <aside class="w-72 bg-sidebar-bg border-l border-border-color flex flex-col z-10 overflow-hidden h-full shrink-0">
            <div class="p-4 border-b border-border-color shrink-0">
                <button id="new-chat-btn" class="w-full py-3 bg-white border border-zinc-200 rounded-xl font-bold text-xs shadow-sm hover:border-primary hover:text-primary transition-all flex items-center justify-center gap-2 no-drag">
                    <span>+</span> ฺฏูุชฺฏู ุฌุฏุฏ
                </button>
            </div>

            <div class="flex-grow flex flex-col min-h-0 p-4 space-y-6 overflow-hidden">
                <div class="flex flex-col max-h-[45%] min-h-0 shrink-0">
                    <h3 class="text-[10px] font-bold text-zinc-400 mb-3 uppercase tracking-[0.2em] px-2 shrink-0">ุงุณูุงุฏ ูุนุงู</h3>
                    <div id="doc-list" class="space-y-2 overflow-y-auto pr-1"></div>
                    <button id="add-doc-btn" class="w-full mt-3 py-3 border border-dashed border-zinc-300 rounded-xl text-[11px] font-bold text-zinc-500 hover:bg-zinc-50 transition-all no-drag shrink-0">
                        ุงูุฒูุฏู ุณูุฏ ุฌุฏุฏ +
                    </button>
                </div>

                <div class="flex flex-col flex-grow min-h-0 border-t border-zinc-100 pt-4 overflow-hidden">
                    <h3 class="text-[10px] font-bold text-zinc-400 mb-3 uppercase tracking-[0.2em] px-2 shrink-0">ุชุงุฑุฎฺู ฺฏูุชฺฏู</h3>
                    <div id="chat-history" class="space-y-1 overflow-y-auto pr-1 flex-1"></div>
                </div>
            </div>

            <div class="p-4 border-t border-border-color bg-zinc-50/50 shrink-0">
                <div class="flex items-center gap-2 text-[10px] font-bold text-emerald-600 uppercase tracking-tighter">
                    <span class="h-1.5 w-1.5 rounded-full bg-emerald-500 animate-pulse"></span>
                    ุณุณุชู ุขููุงู ู ุงูู ุงุณุช
                </div>
            </div>
        </aside>

        <main class="flex-grow flex flex-col bg-white h-full overflow-hidden">
            <header class="h-16 border-b border-border-color flex items-center px-8 justify-between shrink-0">
                <div class="flex flex-col">
                    <span class="font-bold text-sm">ฺฏูุชฺฏู ุฌุงุฑ</span>
                    <span id="status-text" class="text-[10px] text-zinc-400">ุขูุงุฏู ุจู ฺฉุงุฑ</span>
                </div>
                <button id="clear-btn" class="px-3 py-1.5 text-[10px] font-bold text-zinc-500 border border-zinc-200 rounded-lg hover:bg-red-50 hover:text-red-600 transition-all">ูพุงฺฉุณุงุฒ ูพุงูโูุง</button>
            </header>

            <div id="chat-container" class="flex-1 overflow-y-auto p-8 space-y-6 flex flex-col min-h-0"></div>

            <div class="p-6 pb-12 shrink-0 bg-white">
                <div id="input-wrapper" class="max-w-4xl mx-auto relative group flex items-end bg-zinc-50 border border-zinc-200 rounded-2xl shadow-sm focus-within:ring-2 ring-primary/20 transition-all p-2">
                    <textarea id="user-input" rows="1" class="w-full p-3 pl-12 pr-2 bg-transparent outline-none resize-none overflow-hidden text-sm" placeholder="ุณูุงู ุฎูุฏ ุฑุง ุจูพุฑุณุฏ..."></textarea>
                    <button id="send-btn" class="absolute left-3 bottom-3 bg-indigo-600 hover:bg-indigo-700 text-white w-9 h-9 flex items-center justify-center rounded-xl transition-all shadow-lg active:scale-95">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script src="./src/renderer.js"></script>
</body>
</html>